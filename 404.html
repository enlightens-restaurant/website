<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enlightens Restaurant</title>
    <script>
        (function () {
            var base = '/'; // MUST match vite.config.js base (without trailing slash)
            var l = window.location;
            // If the current path is exactly the base or already starts with base + '/?p=', do nothing
            if (l.pathname === base + '/' || l.search.startsWith('?p=')) return;

            // Strip the base from the path (if it exists) so we don't double it up
            var path = l.pathname.startsWith(base) ? l.pathname.slice(base.length) : l.pathname;
            var query = l.search;
            var hash = l.hash;

            var target = path + query + hash;
            // Encode and redirect using ?p=<encoded>
            var redirectUrl = base + '/?p=' + encodeURIComponent(target);
            l.replace(redirectUrl);
        })();
    </script>
</head>

<body>
    <p>Redirecting...</p>
</body>

</html>